<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<style>
    body {
        background-color: #000;
    }
    h1 {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }
</style>
<div id="thing" style="width: 50%;"></div>
<script>
    var params = new URLSearchParams(document.location.search.substring(1));
    var ID = params.get('id')
    for (var q = 0; q < 10; q++) {
        var c = q+1
        var toAdd = `<div style="border: solid #FFF; height: 100px; margin-top: 5px;">
            <img id="img_${c}"src="https://mgcounts.com/assets/img/Old-YT.png" style="float: left; height: 100px; width: 100px;">
            <h1 id="name_${c}" style="color: #FFF; font-size: 35px; margin-top: -10px;">Username</h1>
            <h1 id="count_${c}" style="color: #FFF; font-size: 70px; margin-top: -45px;">0</h1>
            </div>
        `
        $('#thing').append(toAdd)
    }
    function update() {
        $.getJSON("https://api.mgcounts.com/mee6/server/" + ID + "", (data) => {
            data.players.sort(function (a, b) { return b.xp - a.xp });
                $.getJSON("https://mixerno.space/raw-analytics-api/single-api/mee6User/" + ID + "$"+data.players[q].id+"", (json) => {
                    var a = 1 
                    var q = 0
                    //document.getElementById('count_' + a + '').innerHTML = data.players[q].xp.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
                    var w = json.history.length-1
                    console.log(json.history[w].gain[0].count)
                    document.getElementById('count_' + a + '').innerHTML = json.history[w].gain[0].count.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
                    document.getElementById('name_' + a + '').innerHTML = data.players[q].username
                document.getElementById('img_' + a + '').src = 'https://cdn.discordapp.com/avatars/' + data.players[q].id + '/' + data.players[q].avatar + '.png'
                imgLoaded('img_' + a + '')
                })
                $.getJSON("https://mixerno.space/raw-analytics-api/single-api/mee6User/" + ID + "$"+data.players[q].id+"", (json) => {
                    var a = 2
                    var q = 1
                    //document.getElementById('count_' + a + '').innerHTML = data.players[q].xp.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
                    var w = json.history.length-1
                    console.log(json.history[w].gain[0].count)
                    document.getElementById('count_' + a + '').innerHTML = json.history[w].gain[0].count.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
                    document.getElementById('name_' + a + '').innerHTML = data.players[q].username
                document.getElementById('img_' + a + '').src = 'https://cdn.discordapp.com/avatars/' + data.players[q].id + '/' + data.players[q].avatar + '.png'
                imgLoaded('img_' + a + '')
                })
                $.getJSON("https://mixerno.space/raw-analytics-api/single-api/mee6User/" + ID + "$"+data.players[q].id+"", (json) => {
                    var a = 3 
                    var q = 2
                    //document.getElementById('count_' + a + '').innerHTML = data.players[q].xp.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
                    var w = json.history.length-1
                    console.log(json.history[w].gain[0].count)
                    document.getElementById('count_' + a + '').innerHTML = json.history[w].gain[0].count.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
                    document.getElementById('name_' + a + '').innerHTML = data.players[q].username
                document.getElementById('img_' + a + '').src = 'https://cdn.discordapp.com/avatars/' + data.players[q].id + '/' + data.players[q].avatar + '.png'
                imgLoaded('img_' + a + '')
                })
                $.getJSON("https://mixerno.space/raw-analytics-api/single-api/mee6User/" + ID + "$"+data.players[q].id+"", (json) => {
                    var a = 4
                    var q = 3
                    //document.getElementById('count_' + a + '').innerHTML = data.players[q].xp.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
                    var w = json.history.length-1
                    console.log(json.history[w].gain[0].count)
                    document.getElementById('count_' + a + '').innerHTML = json.history[w].gain[0].count.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
                    document.getElementById('name_' + a + '').innerHTML = data.players[q].username
                document.getElementById('img_' + a + '').src = 'https://cdn.discordapp.com/avatars/' + data.players[q].id + '/' + data.players[q].avatar + '.png'
                imgLoaded('img_' + a + '')
                })
                $.getJSON("https://mixerno.space/raw-analytics-api/single-api/mee6User/" + ID + "$"+data.players[q].id+"", (json) => {
                    var a = 5 
                    var q = 4
                    //document.getElementById('count_' + a + '').innerHTML = data.players[q].xp.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
                    var w = json.history.length-1
                    console.log(json.history[w].gain[0].count)
                    document.getElementById('count_' + a + '').innerHTML = json.history[w].gain[0].count.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
                    document.getElementById('name_' + a + '').innerHTML = data.players[q].username
                document.getElementById('img_' + a + '').src = 'https://cdn.discordapp.com/avatars/' + data.players[q].id + '/' + data.players[q].avatar + '.png'
                imgLoaded('img_' + a + '')
                })
                $.getJSON("https://mixerno.space/raw-analytics-api/single-api/mee6User/" + ID + "$"+data.players[q].id+"", (json) => {
                    var a = 6
                    var q = 5
                    //document.getElementById('count_' + a + '').innerHTML = data.players[q].xp.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
                    var w = json.history.length-1
                    console.log(json.history[w].gain[0].count)
                    document.getElementById('count_' + a + '').innerHTML = json.history[w].gain[0].count.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
                    document.getElementById('name_' + a + '').innerHTML = data.players[q].username
                document.getElementById('img_' + a + '').src = 'https://cdn.discordapp.com/avatars/' + data.players[q].id + '/' + data.players[q].avatar + '.png'
                imgLoaded('img_' + a + '')
                })
                $.getJSON("https://mixerno.space/raw-analytics-api/single-api/mee6User/" + ID + "$"+data.players[q].id+"", (json) => {
                    var a = 7 
                    var q = 6
                    //document.getElementById('count_' + a + '').innerHTML = data.players[q].xp.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
                    var w = json.history.length-1
                    console.log(json.history[w].gain[0].count)
                    document.getElementById('count_' + a + '').innerHTML = json.history[w].gain[0].count.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
                    document.getElementById('name_' + a + '').innerHTML = data.players[q].username
                document.getElementById('img_' + a + '').src = 'https://cdn.discordapp.com/avatars/' + data.players[q].id + '/' + data.players[q].avatar + '.png'
                imgLoaded('img_' + a + '')
                })
                $.getJSON("https://mixerno.space/raw-analytics-api/single-api/mee6User/" + ID + "$"+data.players[q].id+"", (json) => {
                    var a = 8 
                    var q = 7
                    //document.getElementById('count_' + a + '').innerHTML = data.players[q].xp.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
                    var w = json.history.length-1
                    console.log(json.history[w].gain[0].count)
                    document.getElementById('count_' + a + '').innerHTML = json.history[w].gain[0].count.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
                    document.getElementById('name_' + a + '').innerHTML = data.players[q].username
                document.getElementById('img_' + a + '').src = 'https://cdn.discordapp.com/avatars/' + data.players[q].id + '/' + data.players[q].avatar + '.png'
                imgLoaded('img_' + a + '')
                })
                $.getJSON("https://mixerno.space/raw-analytics-api/single-api/mee6User/" + ID + "$"+data.players[q].id+"", (json) => {
                    var a = 9 
                    var q = 8
                    //document.getElementById('count_' + a + '').innerHTML = data.players[q].xp.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
                    var w = json.history.length-1
                    console.log(json.history[w].gain[0].count)
                    document.getElementById('count_' + a + '').innerHTML = json.history[w].gain[0].count.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
                    document.getElementById('name_' + a + '').innerHTML = data.players[q].username
                document.getElementById('img_' + a + '').src = 'https://cdn.discordapp.com/avatars/' + data.players[q].id + '/' + data.players[q].avatar + '.png'
                imgLoaded('img_' + a + '')
                })
                $.getJSON("https://mixerno.space/raw-analytics-api/single-api/mee6User/" + ID + "$"+data.players[q].id+"", (json) => {
                    var a = 10 
                    var q = 9
                    //document.getElementById('count_' + a + '').innerHTML = data.players[q].xp.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
                    var w = json.history.length-1
                    console.log(json.history[w].gain[0].count)
                    document.getElementById('count_' + a + '').innerHTML = json.history[w].gain[0].count.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1,')
                    document.getElementById('name_' + a + '').innerHTML = data.players[q].username
                document.getElementById('img_' + a + '').src = 'https://cdn.discordapp.com/avatars/' + data.players[q].id + '/' + data.players[q].avatar + '.png'
                imgLoaded('img_' + a + '')
                })
        });
    }
    function imgLoaded(imgElementId) {
        setTimeout(function () {
            var imgElement = document.getElementById(imgElementId)
            var check = imgElement.complete && imgElement.naturalHeight !== 0;
            if (check == false) {
                imgElement.src = 'https://cdn.discordapp.com/embed/avatars/1.png'
            }
        }, 1000)
    }
    update()
    setInterval(update, 500000)
</script>
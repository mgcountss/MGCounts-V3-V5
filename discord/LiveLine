<script src="https://code.highcharts.com/stock/highstock.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<div style="background-color: #222222; width: 100%; border: solid #222222; height: 100%;" id="chart" class="chart"></div>

<script>
    var params = new URLSearchParams(document.location.search.substring(1));
    var ID = params.get('id')
function fetcher() {
    $.getJSON("https://api.mgcounts.com/mee6/server/" + ID + "", (data) => {
        var time = ""+new Date().getHours()+":"+new Date().getMinutes()+""
for (var q = 0; q < 25; q++) {
chart.series[q].addPoint([time,data.players[q].xp])
chart.series[q].update({name:data.players[q].username}, false);
}
chart.redraw();
    })
}
setInterval(fetcher,20000)
fetcher()
fetcher()

       var chart = new Highcharts.chart({
        chart: {
            renderTo: 'chart',
            type: 'spline',
            zoomType: 'x',
            backgroundColor: 'transparent',
            plotBorderColor: 'transparent'
        },  
        xAxis: {
        visible: false
    },
    yAxis: {
        title: {
            text: 'Counts'
        },
        visible: false
    },
        title: {
            text: ' '
        },
        credits: {
            enabled: false,
        },
        series: [{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },{
            name: "Loading",
            data: []
        },]
    });
</script>

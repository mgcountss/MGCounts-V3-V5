<html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/numeral.js/2.0.6/numeral.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/4.5.2/darkly/bootstrap.min.css">
<link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,400;0,700;1,400&amp;display=swap">
<style>
    .name {
        margin-left: 20px;
    }
</style>
<div class="table-responsive" style="border-style: none;">
    <table class="table table-striped table-dark table-sm">
        <thead>
            <tr>
                <th style="border-style: solid;border-right-style: solid;">Top Channels</th>

                <th style="border-bottom-style: solid;">Subscribers</th>
                <th style="border-bottom-style: solid;">Total Views</th>
            </tr>
        </thead>
        <tbody style="border-style: none;" class="counters">


        </tbody>
    </table>
</div>
<script>
    var c = 0;
    var eee;
    var lol = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]

    function create() {
        for (var t = 1; t <= eee; t++) {
            var htmlcard = `<tr>
                <td style="border-right-style: solid;border-left-style: solid;">
                    <img style="width: 40px;height: 40px;" id="img_${t}" src="MGCounts.png">
                    <strong id="name_${t}" class="name">Loading</strong></td>
                    <td id="subs_${t}">TBC</td>
                    <td id="views_${t}">TBC</td>
                </tr>`;
            $('.counters').append(htmlcard)
            c += 1;
        }
    }
    $.getJSON("https://api.mgcounts.com/e/e/e/e/e/e/e", (data) => {
        eee = data.length
        create()
        for (var q = 0; q < eee; q++) {
            updateData(q, data)
        }
    })
    function updateData(q, data) {
        setTimeout(function () {

            var cnb = q+1;

            data[q].Subs = Math.floor(data[q].Subs)
            document.getElementById('subs_' + cnb + '').innerHTML = numeral(data[q].Subs).format('0,0');
            document.getElementById('views_' + cnb + '').innerHTML = numeral(data[q].views).format('0,0');
            document.getElementById('name_' + cnb + '').innerHTML = data[q].Name
            document.getElementById('img_' + cnb + '').src = data[q].image
        })
    }

</script>

</html>
